---
keywords: Experience Platform;home;popular topics;offer decisioning;decisions;offers;deliver offers
solution: Experience Platform
product: experience platform
title: Deliver offers
topic: API guide
description: Offer Decisioning is a collection of services and UI programs that enables marketers to create and deliver end-user personalized offer experiences across channels and applications using business logic and decision rules.
---

# Deliver offers using the Decisions API

[!DNL Offer Decisioning] is a collection of services and UI programs that enables marketers to create and deliver end-user personalized offer experiences, across channels and applications using business logic and decision rules. An offer is a marketing message that may have rules associated with it that specify who is eligible to see the offer.

You can create and deliver offers by making a POST request to the [[!DNL Decisions]](https://www.adobe.io/apis/experienceplatform/home/api-reference.html#!acpdr/swagger-specs/decisioning-ode.yaml) API.

This tutorial requires that you have a unique placement ID and activity ID value available. If you have not acquired these values, see the tutorials for [creating a placement](../offers-api/placements/create.md) and [creating an activity](../activities-api/activities/create.md).

## Accept and Content-Type headers

The following table shows the valid values which comprise the *Content-Type* and *Accept* fields in the request header:

| Header name | Value |
| ----------- | ----- |
| Content-Type | `application/vnd.adobe.xdm+json; schema="https://ns.adobe.com/experience/offer-management/decision-request;version=1.0"` |
| Accept | `application/vnd.adobe.xdm+json; schema="https://ns.adobe.com/experience/offer-management/decision-response;version=1.0"` |

**API format**

```https
POST /{ENDPOINT_PATH}/{CONTAINER_ID}/decisions
```

| Parameter | Description | Example |
| --------- | ----------- | ------- |
| `{ENDPOINT_PATH}` | The endpoint path for repository APIs. | `https://platform.adobe.io/data/core/ode/` |
| `{CONTAINER_ID}` | The container where the activities are located. | `e0bd8463-0913-4ca1-bd84-6309134ca1f6` |

**Request**

```shell
curl -X POST \
  'https://platform.adobe.io/data/core/ode/e0bd8463-0913-4ca1-bd84-6309134ca1f6/decisions' \
  -H 'Authorization: Bearer {ACCESS_TOKEN}' \
  -H 'x-api-key: {API_KEY}' \
  -H 'x-gw-ims-org-id: {IMS_ORG}' \
  -H 'x-sandbox-name: {SANDBOX_NAME}'
  -d '{
        "xdm:propositionRequests": [
            {
            "xdm:placementId": "xcore:offer-placement:ffed0456",
            "xdm:activityId": "xcore:offer-activity:ffed0123"
            },
            {
            "xdm:placementId": "xcore:offer-placement:ffed0012",
            "xdm:activityId": "xcore:offer-activity:fffc0789"
            }
        ],
        "xdm:profiles": [
            {
            "xdm:identityMap": {
                "SWCUSTID": [
                {
                    "xdm:id": "123@abc.com"
                }
                ]
            },
            "xdm:decisionRequestId": "0AA00002-0000-1337-c0de-c0fefec0fefe"
            }
        ],
        "xdm:allowDuplicatePropositions": {
            "xdm:acrossActivities": true,
            "xdm:acrossPlacements": true
        },
        "xdm:mergePolicy": {
            "xdm:id": "5f3ed32f-eaf1-456c-b0f0-7b338c4cb18a"
        },
        "xdm:responseFormat": {
            "xdm:includeContent": true,
            "xdm:includeMetadata": {
            "xdm:activity": [
                "name"
            ],
            "xdm:option": [
                "name"
            ],
            "xdm:placement": [
                "name"
            ]
            }
        }
        }'
```

| Property | Description | Example |
| -------- | ----------- | ------- |
| `xdm:propositionRequests` | An array that contains the placement and activity identifiers. | `xcore:offer-placement:ffed0012`, `xdm:activityId:ffed0123` |
| `xdm:propositionRequests.xdm:placementId` | The unique identifier of the placement. This is the value of the @id property of the placement. |
| `xdm:propositionRequests.xdm:activityId` | The unique identifier of the activity. This is the value of the @id property of the activity. |
| `xdm:profiles` | An array that contains the identity map and context data for each of the profiles. For an API request this will contain one profile. |
| `xdm:profiles.xdm:identityMap` | An array that contains a set of end user identities based on the namespace integration code of the identity. The identity map can carry more than one identity of each namespace. For more information on namespaces, see the [Identity namespace overview](https://docs.adobe.com/content/help/en/experience-platform/identity/namespaces.html). | `Email: [{"xdm:id": "123@abc.com"}]` |
| `xdm:profiles.xdm:decisionRequestId` | The ID generated by the client that can be used to uniquely identify a profile decision request. This ID is echoed back in the response and does not influence the outcomes of the decision. |
| `xdm:allowDuplicatePropositions` | The schema representing the control structure of the De-duplication rules. It consists of a series of flags that indicate if the same option can be proposed across a certain dimension. A flag that is set to true means duplicates are allowed, even desired and should not be removed across the category indicated by the flag. A flag set to false means that the decision engine should not make the same proposition across the dimension and instead pick the next best option for one of the sub-decisions. |
| `xdm:allowDuplicatePropositions.xdm:acrossActivities` | If set to true multiple activities may get assigned the same option. |
| `xdm:allowDuplicatePropositions.xdm:acrossPlacements` | If set to true multiple activities may get assigned the same option. |
| `xdm:mergePolicy.xdm:id` | Identifies the merge policy by which to govern the data returned by profile access service. If one is not specified in the request, [!DNL Offer Decisioning] wonâ€™t pass along anything profile access service, else it would pass the id provided by the caller. |
| `xdm:responseFormat` | A set of flags that formats the response content. |
| `xdm:responseFormat.xdm:includeContent` | A boolean value that, if set to `true`, includes content to the response. | `text`, `html block`, `image link` |
| `xdm:responseFormat.xdm:includeMetadata` | An object that is used to specify what metadata is returned. If this property is not included, then `xdm:id` and `repo:etag` are returned by default. | `name` |
| `xdm:responseFormat.xdm:activity` | This flag identifies the format of the response content for `xdm:activity`. |
| `xdm:responseFormat.xdm:option` | This flag identifies the format of the response content for `xdm:option`. |
| `xdm:responseFormat.xdm:placement` | This flag identifies the format of the response content for `xdm:placement`. |

**Response**

A successful response returns information on your proposition, including its unique `xdm:propositionId`.

```json
{
  "xdm:propositionId": "5d0ffb5e-dfc6-4280-99b6-0bf3131cb8b8",
  "xdm:propositions": [
    {
      "xdm:activity": {
        "xdm:id": "xcore:activity:ffed0123",
        "repo:etag": 4
      },
      "xdm:placement": {
        "xdm:id": "xcore:placement:ffed0456",
        "repo:etag": 1
      },
      "xdm:options": [
        {
          "xdm:id": "xcore:personalized-option:ccc0111",
          "repo:etag": 3,
          "@type": "https://ns.adobe.com/experience/decisioning/content-component-html-template",
          "xdm:content": "<html>some html</html>"
        }
      ]
    },
    {
      "xdm:activity": {
        "xdm:id": "xcore:activity:ffed0123",
        "repo:etag": 4
      },
      "xdm:placement": {
        "xdm:id": "xcore:placement:ffed0789",
        "repo:etag": 2
      },
      "xdm:fallback": {
        "xdm:id": "xcore:fallback:ccc0222",
        "repo:etag": 5,
        "@type": "https://ns.adobe.com/experience/decisioning/content-component-imagelink",
        "dc:format": "image/png",
        "xdm:deliveryURL": "https://cdn.adobe.com/content/1445323-1134331.png",
        "xdm:content": "https://www.adobe.com/index2.html"
      }
    }
  ],
  "ode:createDate": 1566497582038
}
```

| Property | Description | Example |
| -------- | ----------- | ------- |
| `xdm:propositionId` | The identity for the proposition entity associated with an XDM DecisionEvent. | `2347f8a4-ebf7-45ae-ac75-10d7d91497e1` |
| `xdm:propositions` | The schema for a single decision activity proposition. Multiple options could be returned for the activity. If no options can be found, then the activity's fallback offer is returned. There will always be either an `options` property or a `fallback` property present. |
| `xdm:propositions.xdm:activity` |
| `xdm:propositions.xdm:placement` |
| `xdm:propositions.xdm:options` | The schema for a single option. If present, this property cannot be empty. |
| `xdm:propositions.xdm:options.xdm:id` |
| `xdm:propositions.xdm:options.@type` | Defines the type of the component. `@type` acts as tee processing contract for the client. When the experience is assembled, the composer will look for the component(s) that have a specific type. | `https://ns.adobe.com/experience/offer-management/content-component-imagelink` |
| `xdm:propositions.xdm:content` |
| `xdm:propositions.xdm:fallback` |
| `xdm:propositions.xdm:fallback.dc:format` | The physical or digital manifestation of the resource. Typically, format should include the media-type of the resource. The format may be used to determine the software, hardware or other equipment needed to display or operate the resource. It is recommended to select a value from a controlled vocabulary, for example, the list of [Internet Media Types](http://www.iana.org/ assignments/media-types/) defining computer media formats. | `image/jpeg`, `image/png` |
| `xdm:propositions.xdm:fallback.xdm:deliveryURL` | Provides the URL for the option. | `https://d37yhxrr0p3l3l.cloudfront.net/0fd0f090-a148-11ea-89e3-f1f2ad52f7e8/urn:aaid:sc:US:a68c86a6-9295-4940-a083-11916b665500/0/40d78a12-f8b6-3f07-8e67-7cb8ae2cc7ec` |
| `xdm:factors` | Defines a map containing different factors that affected the propositions made, for example, responses from the profile service. |
| `ode:createDate` | The time when the decision response message was created. This is represented as epoch time. | `1604011243807` |
